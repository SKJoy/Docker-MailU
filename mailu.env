# Mailu main configuration file
#
# This file is autogenerated by the configuration management wizard for compose flavor.
# For a detailed list of configuration variables, see the documentation at
# https://mailu.io

###################################
# Common configuration variables
###################################

# Set to a randomly generated 16 bytes string
SECRET_KEY=${MAILU_SECRET_KEY}

# Subnet of the docker network. This should not conflict with any networks to which your system is connected. (Internal and external!)
SUBNET=${DOCKER_NETWORK_SUBNET}

# Main mail domain
DOMAIN=${MAILU_ADMIN_DOMAIN}

# Hostnames for this server, separated with commas
HOSTNAMES=${MAILU_HOSTNAMES}

# Postmaster local part (will append the main mail domain)
POSTMASTER=${MAILU_ADMIN_USER}

# Choose how secure connections will behave (value: letsencrypt, cert, notls, mail, mail-letsencrypt)
TLS_FLAVOR=${MAILU_TLS_FLAVOR}

# Authentication rate limit per IP (per /24 on ipv4 and /48 on ipv6)
AUTH_RATELIMIT_IP=5/hour

# Authentication rate limit per user (regardless of the source-IP)
AUTH_RATELIMIT_USER=50/day

# Opt-out of statistics, replace with "True" to opt out
DISABLE_STATISTICS=True

###################################
# Optional features
###################################

# Expose the admin interface (value: true, false)
ADMIN=true

# Choose which webmail to run if any (values: roundcube, snappymail, none). To enable this feature, recreate the docker-compose.yml file via setup.
WEBMAIL=roundcube

# Expose the API interface (value: true, false)
API=true

# Dav server implementation (value: radicale, none). To enable this feature, recreate the docker-compose.yml file via setup.
WEBDAV=radicale

# Antivirus solution (value: clamav, none). To enable this feature, recreate the docker-compose.yml file via setup.
ANTIVIRUS=clamav

# Scan Macros solution (value: true, false). To enable this feature, recreate the docker-compose.yml file via setup.
SCAN_MACROS=true

###################################
# Mail settings
###################################

# Message size limit in bytes
# Default: accept messages up to 50MB
# Max attachment size will be 33% smaller
MESSAGE_SIZE_LIMIT=50000000

# Message rate limit (per user)
MESSAGE_RATELIMIT=${MAILU_DAILY_MAX_MESSAGE_PER_USER}

# Networks granted relay permissions
# Use this with care, all hosts in this networks will be able to send mail without authentication!
RELAYNETS=${MAILU_RELAY_NETWORK}

# Will relay all outgoing mails if configured
RELAYHOST=${MAILU_RELAY_HOST}

# Enable fetchmail
FETCHMAIL_ENABLED=true

# Fetchmail delay
FETCHMAIL_DELAY=${MAILU_FETCHMAIL_DELAY}

# Recipient delimiter, character used to delimiter localpart from custom address part
RECIPIENT_DELIMITER=+

# DMARC rua and ruf email
DMARC_RUA=${MAILU_ADMIN_USER}
DMARC_RUF=${MAILU_ADMIN_USER}

# Welcome email, enable and set a topic and body if you wish to send welcome
# emails to all users.
WELCOME=false
WELCOME_SUBJECT=Welcome to your new email account
WELCOME_BODY=Welcome to your new email account, if you can read this, then it is configured properly!

# Maildir Compression
# choose compression-method, default: none (value: gz, bz2, zstd)
COMPRESSION=
# change compression-level, default: 6 (value: 1-9)
COMPRESSION_LEVEL=

# IMAP full-text search is enabled by default.
# Set the following variable to off in order to disable the feature
# or a comma separated list of language codes to support
FULL_TEXT_SEARCH=en

###################################
# Web settings
###################################

# Path to redirect / to
WEBROOT_REDIRECT=${MAILU_URL_PREFIX_WEBMAIL}

# Path to the admin interface if enabled
WEB_ADMIN=${MAILU_URL_PREFIX_ADMIN}

# Path to the webmail if enabled
WEB_WEBMAIL=${MAILU_URL_PREFIX_WEBMAIL}

# Path to the API interface if enabled
WEB_API=${MAILU_URL_PREFIX_API}

# Website name
SITENAME=${MAILU_SITE_NAME}

# Linked Website URL
WEBSITE=${MAILU_SITE_URL}



###################################
# Advanced settings
###################################

# Docker-compose project name, this will prepended to containers names.
COMPOSE_PROJECT_NAME=${COMPOSE_PROJECT_NAME}

# Number of rounds used by the password hashing scheme
CREDENTIAL_ROUNDS=12

# Header to take the real ip from
REAL_IP_HEADER=${MAILU_REAL_IP_HEADER}

# IPs for nginx set_real_ip_from (CIDR list separated by commas)
REAL_IP_FROM=${MAILU_REAL_IP_FROM}

# choose wether mailu bounces (no) or rejects (yes) mail when recipient is unknown (value: yes, no)
REJECT_UNLISTED_RECIPIENT=no

# Log level threshold in start.py (value: CRITICAL, ERROR, WARNING, INFO, DEBUG, NOTSET)
LOG_LEVEL=INFO

# Timezone for the Mailu containers. See this link for all possible values https://en.wikipedia.org/wiki/List_of_tz_database_time_zones
TZ=${MAILU_TIMEZONE}

# Default spam threshold used for new users
DEFAULT_SPAM_THRESHOLD=80

# API token required for authenticating to the RESTful API.
# This is a mandatory setting for using the RESTful API.
API_TOKEN=${MAILU_API_TOKEN}

# Whether tika should be enabled (scan/OCR email attachements). To enable this feature, recreate the docker-compose.yml file via setup.
FULL_TEXT_SEARCH_ATTACHMENTS=



# Custom
INITIAL_ADMIN_MODE=ifmissing
INITIAL_ADMIN_DOMAIN=${MAILU_ADMIN_DOMAIN}
INITIAL_ADMIN_ACCOUNT=${MAILU_ADMIN_USER}
INITIAL_ADMIN_PW=${MAILU_ADMIN_PASSWORD}
LOGO_BACKGROUND=${MAILU_LOGO_BACKGROUND_COLOR}
LOGO_URL=${MAILU_LOGO_URL}
PROXY_PROTOCOL=${MAILU_PROXY_PROTOCOL_PORT}
ROUNDCUBE_PLUGINS=${MAILU_ROUNDCUBE_PLUGINS}
PORTS=${MAILU_PORTS_ENABLED}
RELAYUSER=${MAILU_RELAY_USER}
RELAYPASSWORD=${MAILU_RELAY_PASSWORD}
LD_PRELOAD=/usr/lib/libhardened_malloc.so

#PROXY_AUTH_WHITELIST=${MAILU_REAL_IP_FROM}
#PROXY_AUTH_HEADER="X-Auth-Email"
#PROXY_AUTH_CREATE=True
#PROXY_AUTH_LOGOUT_URL="https://www.google.com"



